# C2C 電商平台

## 目標
利用Java技術構建一個C2C（Customer to Customer）電商平台，模擬使用者之間的商品買賣行為。平台應具備用戶註冊、登入、商品上架、瀏覽商品、加入購物車、購買商品、評價系統、支付系統等功能。

## 功能需求
1. 用戶管理
   - 用戶註冊與登入
   - 用戶資料編輯與查看
2. 商品管理
   - 商品上架與下架
   - 商品瀏覽與搜尋
   - 商品詳情查看
3. 購物車管理
   - 商品加入購物車
   - 購物車商品管理
4. 訂單管理
   - 訂單生成與查詢
   - 訂單狀態更新
5. 評價系統
   - 商品評價與回饋
6. 支付系統
   - 支付處理與確認
7. 銀行模擬
   - 支付系統中的銀行模擬
   - 包含檢查餘額、扣款等功能
   - Transaction類別
   - 簡易Transaction Locking機制，預防Concurrent Transaction導致的資料不一致問題
   - 交易紀錄Log
   - 信用卡、金融卡交易

## Services
1. UserService：處理用戶相關操作，如註冊、登入、資料更新等。
2. ProductService：管理商品的上架、下架、瀏覽和搜尋功能。
3. CartService：負責購物車的商品添加、刪除和查看。
4. OrderService：處理訂單的生成、查詢和狀態更新。
5. ReviewService：管理商品評價和回饋功能。
6. PaymentService：負責支付處理和確認。
7. BankService：模擬銀行操作，包括檢查餘額、扣款等功能。
8. TransactionService：處理交易相關操作，包含Transaction Locking機制和交易紀錄Log。

## 開發模型
採用**V Model**進行開發。
1. 需求分析：明確系統需求，制定需求規範。
2. 產生SRS（Software Requirement Specification; SRS）文件。
3. 高階設計：根據需求規範進行系統架構設計和模組劃分。
4. 產生架構設計文件（Architecture Design Document; ADD）與整合測試計畫。
5. 細部設計：詳細設計各模組的功能和接口。 
6. 產生系統設計文件（System Design Document; SDD）與單元測試計畫（或單元測試設計）;
7. 實作：根據設計文件進行程式碼編寫。

## 設計原則
1. 模組化設計：各功能模組應獨立開發，便於維護和擴展。
2. 測試案例：因應模組化設計，每個模組應包含單元測試、黑箱測試、白箱測試、mockito、涵蓋度分析測試等測試案例。
3. OOP原則：遵循面向對象設計原則，如封裝、繼承、多態等。
4. 資料庫：不使用資料庫，改用純Java資料結構來存儲數據。
5. 使用者介面：提供簡單的命令行介面（CLI）或圖形用戶界面（GUI）以便用戶操作。
6. 安全性：實現基本的安全措施，如密碼加密、權限管理等。
7. 日誌記錄：實現日誌系統以記錄用戶操作和系統事件。
8. 文檔：提供完整的代碼註釋和使用說明文檔。

## 測試策略
1. 單元測試：針對每個模組的核心功能進行單元測試，確保各模組獨立運作正常。
2. 黑箱測試：從用戶角度出發，測試系統
3. 白箱測試：檢查代碼邏輯和流程，確保無邏輯錯誤。
4. Mockito：使用Mockito框架模擬依賴對象，測試模組間的交互。
5. 涵蓋度分析測試：使用工具分析測試覆蓋率，確保關鍵代碼路徑均被測試。

## 測試工具
1. JUnit：用於編寫和運行單元測試。
2. Mockito：用於模擬對象和依賴。
3. JaCoCo：用於測試覆蓋率分析。
4. PMD：用於代碼質量檢查。
5. MetricsReloaded: 測量和分析程式碼指標。
6. Selenium：如有GUI，則用於自動化界面測試。

## 日誌工具
1. Log4j2：用於日誌記錄和管理。

## 例外處理 (Java Exception Handling)
1. 自定義異常類：針對不同錯誤情況，定義自定義異常類。
2. 全局異常處理：實現全局異常處理機制，捕獲並處理未處理的異常。
3. 日誌記錄異常：在異常處理過程中記錄異常信息，便於問題追蹤和調試。
4. 用戶友好提示：向用戶提供清晰的錯誤提示信息，避免技術細節暴露。
5. Java內建異常處理機制：充分利用Java的try-catch-finally結構來管理異常情況，確保系統穩定運行。